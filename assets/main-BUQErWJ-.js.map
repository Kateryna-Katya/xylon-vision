{"version":3,"file":"main-BUQErWJ-.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n  // --- 0. INIT & CONFIG ---\n  gsap.registerPlugin(ScrollTrigger);\n  lucide.createIcons();\n\n  // --- 1. SMOOTH SCROLL (LENIS) ---\n  const lenis = new Lenis({\n      duration: 1.2,\n      easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n      smooth: true,\n      touchMultiplier: 2,\n  });\n\n  function raf(time) {\n      lenis.raf(time);\n      requestAnimationFrame(raf);\n  }\n  requestAnimationFrame(raf);\n\n  // --- 2. MOBILE MENU ---\n  const burger = document.querySelector('.burger');\n  const mobileNav = document.querySelector('.mobile-nav');\n  const mobileLinks = mobileNav ? mobileNav.querySelectorAll('a') : [];\n\n  if (burger && mobileNav) {\n      burger.addEventListener('click', () => {\n          const isActive = burger.classList.toggle('is-active');\n          mobileNav.classList.toggle('is-active');\n\n          if (isActive) {\n              lenis.stop();\n              document.body.style.overflow = 'hidden';\n          } else {\n              lenis.start();\n              document.body.style.overflow = '';\n          }\n      });\n\n      mobileLinks.forEach(link => {\n          link.addEventListener('click', () => {\n              burger.classList.remove('is-active');\n              mobileNav.classList.remove('is-active');\n              lenis.start();\n              document.body.style.overflow = '';\n          });\n      });\n  }\n\n  // --- 3. HERO ANIMATION ---\n  const heroTitle = document.querySelector('.hero__title');\n  if (heroTitle) {\n      const splitHero = new SplitType('.hero__title', { types: 'lines, words' });\n      gsap.set('.hero__title', { visibility: 'visible' });\n\n      const tl = gsap.timeline({ defaults: { ease: \"power3.out\" } });\n\n      tl.from(splitHero.words, { y: 100, opacity: 0, duration: 1, stagger: 0.05, delay: 0.2 })\n        .from('.hero__desc', { y: 20, opacity: 0, duration: 0.8 }, \"-=0.6\")\n        .from('.hero__actions', { y: 20, opacity: 0, duration: 0.8 }, \"-=0.6\")\n        .from('.hero__badge', { x: -20, opacity: 0, duration: 0.8 }, 0.5)\n        .from('.hero__image-wrapper', { scale: 0.95, opacity: 0, duration: 1.5, ease: \"power2.out\" }, 0);\n\n      // Parallax\n      gsap.to('.hero__image-wrapper', {\n          y: 50,\n          scrollTrigger: {\n              trigger: '.hero',\n              start: 'top top',\n              end: 'bottom top',\n              scrub: true\n          }\n      });\n  }\n\n  // --- 4. SCROLL ANIMATIONS FOR SECTIONS ---\n\n  // Animate Section Titles (Split Type on Scroll)\n  const sectionTitles = document.querySelectorAll('.section__title');\n  sectionTitles.forEach(title => {\n      new SplitType(title, { types: 'lines, words' });\n\n      gsap.from(title.querySelectorAll('.word'), {\n          scrollTrigger: {\n              trigger: title,\n              start: 'top 80%',\n          },\n          y: 50,\n          opacity: 0,\n          duration: 0.8,\n          stagger: 0.05,\n          ease: \"power3.out\"\n      });\n  });\n\n  // Animate Cards (Stagger)\n  const fadeCards = document.querySelectorAll('.feature-card, .blog-card, .methodology__card');\n  gsap.utils.toArray(fadeCards).forEach(card => {\n      gsap.from(card, {\n          scrollTrigger: {\n              trigger: card,\n              start: 'top 85%',\n          },\n          y: 30,\n          opacity: 0,\n          duration: 0.6,\n          ease: \"power2.out\"\n      });\n  });\n\n// --- 5. CONTACT FORM & VALIDATION (FIXED) ---\nconst form = document.getElementById('leadForm');\n\n// Логика капчи\nconst captchaLabel = document.getElementById('captchaLabel');\nconst captchaInput = document.getElementById('captchaInput');\nlet correctSum = 5;\n\nif (captchaLabel && captchaInput) {\n    const num1 = Math.floor(Math.random() * 5) + 1;\n    const num2 = Math.floor(Math.random() * 5) + 1;\n    correctSum = num1 + num2;\n    captchaLabel.textContent = `Сколько будет ${num1} + ${num2}?`;\n}\n\nif (form) {\n    form.addEventListener('submit', (e) => {\n        e.preventDefault();\n        let isValid = true;\n\n        // Выбираем все обязательные поля (включая чекбокс)\n        const inputs = form.querySelectorAll('input[required]');\n\n        inputs.forEach(input => {\n            // 1. Определяем правильного родителя\n            let group = input.closest('.form-group');\n            if (!group) {\n                group = input.closest('.form-checkbox');\n            }\n\n            // Если родитель не найден — пропускаем (защита от null)\n            if (!group) return;\n\n            // 2. Логика проверки зависит от типа поля\n            let hasError = false;\n\n            if (input.type === 'checkbox') {\n                // Для чекбокса проверяем галочку\n                if (!input.checked) hasError = true;\n            } else {\n                // Для текстовых полей проверяем пустоту\n                if (!input.value.trim()) hasError = true;\n            }\n\n            // 3. Применяем классы ошибок\n            if (hasError) {\n                group.classList.add('error');\n                isValid = false;\n            } else {\n                group.classList.remove('error');\n            }\n        });\n\n        // 4. Проверка телефона (если заполнен)\n        const phone = document.getElementById('phone');\n        const phoneRegex = /^[0-9+\\-() ]{5,}$/;\n        if (phone && phone.value.trim() !== '') {\n            if (!phoneRegex.test(phone.value)) {\n                phone.closest('.form-group').classList.add('error');\n                isValid = false;\n            }\n        }\n\n        // 5. Проверка капчи\n        if (captchaInput) {\n            const userSum = parseInt(captchaInput.value, 10);\n            if (userSum !== correctSum) {\n                captchaInput.closest('.form-group').classList.add('error');\n                isValid = false;\n            }\n        }\n\n        // 6. Отправка\n        if (isValid) {\n            const btn = form.querySelector('button[type=\"submit\"]');\n            const originalText = btn.textContent;\n\n            btn.textContent = 'Отправка...';\n            btn.disabled = true;\n\n            setTimeout(() => {\n                const successMsg = document.getElementById('formSuccess');\n                if (successMsg) successMsg.classList.add('is-visible');\n\n                form.reset();\n                btn.textContent = originalText;\n                btn.disabled = false;\n\n                // Обновляем капчу\n                const newNum1 = Math.floor(Math.random() * 5) + 1;\n                const newNum2 = Math.floor(Math.random() * 5) + 1;\n                correctSum = newNum1 + newNum2;\n                captchaLabel.textContent = `Сколько будет ${newNum1} + ${newNum2}?`;\n            }, 1500);\n        }\n    });\n\n    // Убираем ошибки при вводе/клике\n    form.querySelectorAll('input').forEach(input => {\n        input.addEventListener('input', () => {\n            let group = input.closest('.form-group') || input.closest('.form-checkbox');\n            if (group) group.classList.remove('error');\n        });\n        // Для чекбокса событие change надежнее\n        if (input.type === 'checkbox') {\n            input.addEventListener('change', () => {\n                let group = input.closest('.form-checkbox');\n                if (group) group.classList.remove('error');\n            });\n        }\n    });\n}\n\n  // --- 6. COOKIE POPUP ---\n  const cookiePopup = document.getElementById('cookiePopup');\n  const acceptBtn = document.getElementById('acceptCookie');\n\n  if (!localStorage.getItem('cookiesAccepted')) {\n      setTimeout(() => {\n          cookiePopup.classList.add('is-active');\n      }, 2000);\n  }\n\n  if (acceptBtn) {\n      acceptBtn.addEventListener('click', () => {\n          localStorage.setItem('cookiesAccepted', 'true');\n          cookiePopup.classList.remove('is-active');\n      });\n  }\n\n});"],"names":["lenis","t","raf","time","burger","mobileNav","mobileLinks","isActive","link","splitHero","title","fadeCards","card","form","captchaLabel","captchaInput","correctSum","num1","num2","isValid","input","group","hasError","phone","phoneRegex","btn","originalText","successMsg","newNum1","newNum2","cookiePopup","acceptBtn"],"mappings":"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"}